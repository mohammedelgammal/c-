#ifndef TRIES
#define TRIES

#include <iostream>
using namespace std;

struct Node
{
    // Constructors
    Node(){};
    Node(const char character) : character{character} {};

    // Memeber variables
    char character;
    unordered_map<char, Node *> children;
    bool isWordEnding = false;

    // Memeber functions
    bool has(const char character)
    {
        return children.count(character) > 0;
    }
    void insert(const char character)
    {
        children.insert({character, new Node{character}});
    }
    Node *get(const char character)
    {
        if (children.count(character) == 0)
            return nullptr;

        return children.find(character)->second;
    }
    void markAsEnd()
    {
        this->isWordEnding = true;
    }
    vector<Node *> getChildren() const
    {
        vector<Node *> childrenVec;

        for (auto &child : children)
            childrenVec.push_back(child.second);

        return childrenVec;
    };
    bool isLeafNode() const
    {
        return children.empty();
    }
};

class Tries
{
public:
    // Constructors
    Tries();
    ~Tries();
    // Methods
    void insert(const string word);
    bool contains(const string word) const;
    void preOrderTraverse() const;
    void postOrderTraverse() const;
    void remove(const string word);

private:
    Node *root;
    void preOrderTraverse(const Node *root) const;
    void postOrderTraverse(const Node *root) const;
    void remove(Node *root, const string word, int index);
};

#endif // Tries